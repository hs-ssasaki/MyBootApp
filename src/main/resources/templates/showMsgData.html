<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title th:text="${title}">top page</title>
	<meta http-equiv="Content-Type"
		content="text/html" charset="UTF-8"/>
	<style>
	h1 { font-size:18pt; font-weight:bold; color:gray;}
	body { font-size:13pt; color:gray; margin:5px 25px; }
	tr { margin:5px; }
	th { padding:5px; color:white; background:darkgray; }
	td { padding:5px; color:black; background:#e0e0ff; }
	</style>
</head>
<body>
	<h1 th:text="${title}">MyMsg page</h1>
	<p th:text="${msg}"></p>
	<form action="/msg" method="post" th:object="${formModel}">
	<input type="hidden" name="id" th:value="*{id}"/>
	<table>
		<tr>
		<td>Title</td>
		<td><input type="text" name="title" th:value="*{title}"/></td>
		</tr>
		<tr>
		<td>Message</td>
		<td><textarea name="message" th:value="*{message}"></textarea></td>
		</tr>
		<tr>
		<td>MYDATA_ID</td>
		<!-- フォームでは、MyDataエンティティのIDを入力する。
		Spring Bootでは、ID番号をフォームとして渡し、コントローラのフォームオブジェクトの受取りで、エンティティ型のプロパティに渡すことで、自動的にそのIDのエンティティを関連付けられるようになっている(?) -->
		<td><input type="text" name="myData" /></td>
		</tr>
		<tr>
		<td></td>
		<td><input type="submit" /></td>
		</tr>
	</table>
	</form>
	<hr/>
	<table>
		<tr><th>ID</th><th>Name</th><th>Title</th></tr>
		<tr th:each="obj : ${datalist}">
			<td th:text="${obj.id}"></td>
			<td th:text="${obj.myData.name}"></td>
			<td th:text="${obj.title}"></td>
		</tr>
	</table>	
</body>
</html>
